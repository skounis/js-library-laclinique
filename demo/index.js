!function(){"use strict";function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Reference=function(){this.inflationRate=.02,this.startBenefitAge=65,this.startBenefitPerMonth=1208.26,this.benefitSVAge=65,this.benefitSVPerMonth=635.26,this.returnRateSafe=.04,this.returnRateModerate=.06,this.returnRateBold=.08,this.durationAge=85},Input=function(){this.client="John Smith",this.capital=5e4,this.age=45,this.annualIncome=47600},Inflation=function(e,t){var n=this;this.adjustedIncome=function(){return n.input.annualIncome*Math.pow(1+n.reference.inflationRate,65-n.input.age)},this.stateBenefits=function(){return 12*(n.reference.startBenefitPerMonth+n.reference.benefitSVPerMonth)*Math.pow(1+n.reference.inflationRate,65-n.input.age)},this.finance=function(){return n.adjustedIncome()-n.stateBenefits()},this.reference=e,this.input=t},Capital=function(e,t){var n=this;this.safe=function(){var e=n.finance,t=n.reference.returnRateSafe;return e/t*(1-1/Math.pow(1+t,35))},this.moderate=function(){var e=n.finance,t=n.reference.returnRateModerate;return e/t*(1-1/Math.pow(1+t,35))},this.bold=function(){var e=n.finance,t=n.reference.returnRateBold;return e/t*(1-1/Math.pow(1+t,35))},this.reference=e,this.finance=t},e=function(){function Report(e,t,n,r){var a=this;this.safe=function(){var e=a.inflation.adjustedIncome(),t=a.input.capital,n=t*Math.pow(1+a.reference.returnRateSafe,65-a.input.age),r=a.capital.safe(),i=a.reference.returnRateSafe/12;return{ANNUAL_INCOME:e,CURRENT_ASSET:t,ASSET_AT_AGE:n,TARGET_CAPITAL:r,MONTHLY_INVESTMENT:i*(r-n)/(1-Math.pow(1+i,12*(65-a.input.age)))*-1}},this.moderate=function(){var e=a.inflation.adjustedIncome(),t=a.input.capital,n=t*Math.pow(1+a.reference.returnRateModerate,65-a.input.age),r=a.capital.moderate(),i=a.reference.returnRateModerate/12;return{ANNUAL_INCOME:e,CURRENT_ASSET:t,ASSET_AT_AGE:n,TARGET_CAPITAL:r,MONTHLY_INVESTMENT:i*(r-n)/(1-Math.pow(1+i,12*(65-a.input.age)))*-1}},this.bold=function(){var e=a.inflation.adjustedIncome(),t=a.input.capital,n=t*Math.pow(1+a.reference.returnRateBold,65-a.input.age),r=a.capital.bold(),i=a.reference.returnRateBold/12;return{ANNUAL_INCOME:e,CURRENT_ASSET:t,ASSET_AT_AGE:n,TARGET_CAPITAL:r,MONTHLY_INVESTMENT:i*(r-n)/(1-Math.pow(1+i,12*(65-a.input.age)))*-1}},this.reference=e,this.input=t,this.inflation=n,this.capital=r}return Report.prototype.value=function(e,t){switch(t){case Report.TARGETS.SAFE:return this.safe()[e];case Report.TARGETS.MODERATE:return this.moderate()[e];case Report.TARGETS.BOLD:return this.bold()[e];default:return null}},Report}();e.KEYS={ANNUAL_INCOME:"ANNUAL_INCOME",CURRENT_ASSET:"CURRENT_ASSET",ASSET_AT_AGE:"ASSET_AT_AGE",TARGET_CAPITAL:"TARGET_CAPITAL",MONTHLY_INVESTMENT:"MONTHLY_INVESTMENT"},e.TARGETS={SAFE:"SAFE",MODERATE:"MODERATE",BOLD:"BOLD"};var t=function WebformLogic(t,n){void 0===t&&(t=null),void 0===n&&(n=null),t=t||WebformLogic.GetReference(),n=n||WebformLogic.GetInput(),this.inflation=new Inflation(t,n),this.capital=new Capital(t,this.inflation.finance()),this.report=new e(t,n,this.inflation,this.capital)};t.GetReference=function(){return new Reference},t.GetInput=function(){return new Input};var n=t,r=_createClass((function App(){var e=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,App),this.inputs=[],this.calculate=function(){console.log("Calculating...");var t={reference:["inflationRate","startBenefitAge","startBenefitPerMonth","benefitSVAge","benefitSVPerMonth","returnRateSafe","returnRateModerate","returnRateBold","durationAge"],input:["client","capital","age","annualIncome"]},r=n.GetReference(),a=n.GetInput();t.reference.forEach((function(t){e.inputs[t]=document.querySelector("#".concat(t)).valueAsNumber,r[t]=e.inputs[t]})),t.input.forEach((function(t){e.inputs[t]=document.querySelector("#".concat(t)).valueAsNumber,a[t]=e.inputs[t]}));var i=new n(r,a).report;console.log(i);i.bold();Object.keys(i.KEYS).forEach((function(e){document.getElementById("".concat(e,"[safe]")).value=i.safe()[e],document.getElementById("".concat(e,"[moderate]")).value=i.moderate()[e],document.getElementById("".concat(e,"[bold]")).value=i.bold()[e]}))},this.demoArrowMethod=function(){},document.getElementById("calculate").addEventListener("click",this.calculate),this.calculate(),this.demoArrowMethod()}));new r}();
//# sourceMappingURL=index.js.map