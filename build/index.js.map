{"version":3,"file":"index.js","mappings":"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","sources":["../../webpack/universalModuleDefinition","../../webpack/bootstrap","../../webpack/runtime/define property getters","../../webpack/runtime/hasOwnProperty shorthand","../../webpack/runtime/make namespace object","../../node_modules/@babel/runtime/helpers/esm/createClass.js","../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","WebformLogic.js","WebformWorker.js","index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"WebformLogic\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"WebformLogic\"] = factory();\n\telse\n\t\troot[\"WebformLogic\"] = factory();\n})(this, function() {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import './css/WebformLogic.css';\n\nclass Reference {\n  /**\n   * Taux d'inflation\t\t2.00%\t\n   */\n  inflationRate = 0.02;\n\n  /**\n   * Début Prestation RRQ\t65 ans\t1208.26\tpar mois\n   */\n  startBenefitAge = 65;\n  startBenefitPerMonth = 1208.26;\n\n  /**\n   * Prestation SV\t65 ans\t635.26\tpar mois\n   */\n  benefitSVAge = 65;\n  benefitSVPerMonth = 635.26;\n\n  /**\n   * Taux de rendement\t\n   *  Prudent   4.00%\t\t\n   *  Modéré\t\t6.00%\t\n   *  Audacieux\t8.00%\t\n   */\n  returnRateSafe = 0.04;\n  returnRateModerate = 0.06;\n  returnRateBold = 0.08;\n\n  /**\n   * Durée de la rente \tà \t85\tans\n   */\n  durationAge = 85;\n}\n\nclass Input {\n  /**\n   * Client\n   */\n  client = 'John Smith';\n\n  /**\n   * Combien avez-vous de côté\n   */\n  capital = 50000;\n\n  /**\n   * Quel âge avez-vous\n   */\n  age = 45;\n\n  /**\n   * Quel revenu annuel désirez-vous\n   */\n  annualIncome = 68000 * 0.7\n}\n\nclass Inflation {\n\n  constructor(reference, input) {\n    this.reference = reference;\n    this.input = input;\n  }\n  /**\n   * Votre revenu ajusté à l'inflation\n   */\n  adjustedIncome = () => {\n    // =E7*(1+'Informations de base'!C4)^(65-Calculs!E6)\n    const value = this.input.annualIncome * Math.pow(1 + this.reference.inflationRate, 65 - this.input.age)\n    return value\n  }\n\n  /**\n   * Prestations des régimes d'états\n   */\n  stateBenefits = () => {\n    // =('Informations de base'!C6+'Informations de base'!C7)*12*(1+'Informations de base'!C4)^(65-Calculs!E6)\n    const value = (this.reference.startBenefitPerMonth + this.reference.benefitSVPerMonth) * 12 * Math.pow(1 + this.reference.inflationRate, 65 - this.input.age)\n    return value\n  }\n\n  /**\n   * Proportion à financer\n   */\n  finance = () => {\n    return this.adjustedIncome() - this.stateBenefits();\n  }\n}\n\nclass Capital {\n\n  constructor(reference, finance) {\n    this.reference = reference;\n    this.finance = finance;\n  }\n\n  /**\n   * Capital à accumuler Prudent\n   * @returns \n   */\n  safe = () => {\n    // =(E$14/'Informations de base'!C10)*(1-(1/(1+'Informations de base'!C10)^(100-65)))\n    const finance = this.finance;\n    const rate = this.reference.returnRateSafe;\n    const value = (finance / rate) * (1 - (1 / Math.pow(1 + rate, 100 - 65)))\n    return value\n  }\n\n  /**\n   * Capital à accumuler Modéré\n   * @returns \n   */\n  moderate = () => {\n    const finance = this.finance;\n    const rate = this.reference.returnRateModerate;\n    const value = (finance / rate) * (1 - (1 / Math.pow(1 + rate, 100 - 65)))\n    return value\n  }\n\n  /**\n   * Capital à accumuler Audacieu\n   * @returns \n   */\n  bold = () => {\n    const finance = this.finance;\n    const rate = this.reference.returnRateBold;\n    const value = (finance / rate) * (1 - (1 / Math.pow(1 + rate, 100 - 65)))\n    return value\n  }\n\n}\n\nclass Report {\n  constructor(reference, input, inflation, capital) {\n    this.reference = reference;\n    this.input = input;\n    this.inflation = inflation;\n    this.capital = capital;\n  }\n\n  value(key, target) {\n    switch (target) {\n      case WebformLogic.REPORT_TARGETS.SAFE:\n        return this.safe()[key];\n\n      case WebformLogic.REPORT_TARGETS.MODERATE:\n        return this.moderate()[key];\n\n      case WebformLogic.REPORT_TARGETS.BOLD:\n        return this.bold()[key];\n\n      default:\n        return null\n    }\n  }\n\n\n  /**\n   * Versement annuel pour accumuler\n   * Investisseur prudent\n   * @returns \n   */\n  safe = () => {\n    const annualIncome = this.inflation.adjustedIncome();\n    const currentAsset = this.input.capital;\n    // =E29*(1+'Informations de base'!C10)^(65-Calculs!E6)\n    const assetAtAge = currentAsset * Math.pow(1 + this.reference.returnRateSafe, 65 - this.input.age);\n    const targetCapital = this.capital.safe();\n    // =('Informations de base'!C10/12*(Calculs!E31-E30)) / ( 1-(1+'Informations de base'!C10/12)^( (65-E6)*12 ) )*-1\n    const monthlyRate = this.reference.returnRateSafe / 12;\n    const monthlyInvestment = (monthlyRate * (targetCapital - assetAtAge)) / (1 - Math.pow((1 + monthlyRate), (65 - this.input.age) * 12)) * -1\n    return {\n      ANNUAL_INCOME: annualIncome,\n      CURRENT_ASSET: currentAsset,\n      ASSET_AT_AGE: assetAtAge,\n      TARGET_CAPITAL: targetCapital,\n      MONTHLY_INVESTMENT: monthlyInvestment\n    }\n  }\n\n  /**\n   * Versement annuel pour accumuler\n   * Investisseur modéré\n   * @returns \n   */\n  moderate = () => {\n    const annualIncome = this.inflation.adjustedIncome();\n    const currentAsset = this.input.capital;\n    // =E29*(1+'Informations de base'!C10)^(65-Calculs!E6)\n    const assetAtAge = currentAsset * Math.pow(1 + this.reference.returnRateModerate, 65 - this.input.age);\n    const targetCapital = this.capital.moderate();\n    // =('Informations de base'!C10/12*(Calculs!E31-E30)) / ( 1-(1+'Informations de base'!C10/12)^( (65-E6)*12 ) )*-1\n    const monthlyRate = this.reference.returnRateModerate / 12;\n    const monthlyInvestment = (monthlyRate * (targetCapital - assetAtAge)) / (1 - Math.pow((1 + monthlyRate), (65 - this.input.age) * 12)) * -1\n    return {\n      ANNUAL_INCOME: annualIncome,\n      CURRENT_ASSET: currentAsset,\n      ASSET_AT_AGE: assetAtAge,\n      TARGET_CAPITAL: targetCapital,\n      MONTHLY_INVESTMENT: monthlyInvestment\n    }\n  }\n\n  /**\n   * Versement annuel pour accumuler\n   * Investisseur Audacieu\n   * @returns \n   */\n  bold = () => {\n    const annualIncome = this.inflation.adjustedIncome();\n    const currentAsset = this.input.capital;\n    // =E29*(1+'Informations de base'!C10)^(65-Calculs!E6)\n    const assetAtAge = currentAsset * Math.pow(1 + this.reference.returnRateBold, 65 - this.input.age);\n    const targetCapital = this.capital.bold();\n    // =('Informations de base'!C10/12*(Calculs!E31-E30)) / ( 1-(1+'Informations de base'!C10/12)^( (65-E6)*12 ) )*-1\n    const monthlyRate = this.reference.returnRateBold / 12;\n    const monthlyInvestment = (monthlyRate * (targetCapital - assetAtAge)) / (1 - Math.pow((1 + monthlyRate), (65 - this.input.age) * 12)) * -1\n    return {\n      ANNUAL_INCOME: annualIncome,\n      CURRENT_ASSET: currentAsset,\n      ASSET_AT_AGE: assetAtAge,\n      TARGET_CAPITAL: targetCapital,\n      MONTHLY_INVESTMENT: monthlyInvestment\n    }\n  }\n}\n\nclass WebformLogic {\n\n  static REPORT_KEYS = {\n    ANNUAL_INCOME: 'ANNUAL_INCOME',\n    CURRENT_ASSET: 'CURRENT_ASSET',\n    ASSET_AT_AGE: 'ASSET_AT_AGE',\n    TARGET_CAPITAL: 'TARGET_CAPITAL',\n    MONTHLY_INVESTMENT: 'MONTHLY_INVESTMENT'\n  }\n\n  static REPORT_TARGETS = {\n    SAFE: 'SAFE',\n    MODERATE: 'MODERATE',\n    BOLD: 'BOLD',\n  }\n\n  constructor(reference = null, input = null) {\n    reference = reference || WebformLogic.GetReference();\n    input = input || WebformLogic.GetInput();\n    this.inflation = new Inflation(reference, input);\n    this.capital = new Capital(reference, this.inflation.finance());\n    this.report = new Report(reference, input, this.inflation, this.capital)\n  }\n\n  static GetReference = () => {\n    return new Reference();\n  }\n\n  static GetInput = () => {\n    return new Input();\n  }\n}\n\nexport default WebformLogic;\n","import WebformLogic from './WebformLogic';\n\nclass WebformWorker {\n  static DEFAULT_KEYS = {\n    input: [\n      ['capital', 'civicrm_1_contact_1_cg56_custom_314'],\n      ['capital', 'civicrm_1_contact_1_cg56_custom_505'],\n      ['age', 'civicrm_1_contact_1_cg117_custom_762'],\n      ['annualIncome', 'civicrm_1_contact_1_cg117_custom_776'],\n      ['number_of_dec', 'number_of_dec']\n    ],\n    output: [\n      ['TARGET_CAPITAL__SAFE', 'civicrm_1_contact_1_cg117_custom_770'],\n      ['TARGET_CAPITAL__MODERATE', 'civicrm_1_contact_1_cg117_custom_771'],\n      ['TARGET_CAPITAL__BOLD', 'civicrm_1_contact_1_cg117_custom_772'],\n      ['MONTHLY_INVESTMENT__SAFE', 'civicrm_1_contact_1_cg117_custom_773'],\n      ['MONTHLY_INVESTMENT__MODERATE', 'civicrm_1_contact_1_cg117_custom_774'],\n      ['MONTHLY_INVESTMENT__BOLD', 'civicrm_1_contact_1_cg117_custom_775']\n    ]\n  };\n\n  keys = { }\n\n  inputs = [];\n  decimals = 0;\n\n  constructor(keys = null) {\n    this.keys = keys || WebformWorker.DEFAULT_KEYS;\n    this.startListening();\n    this.calculate();\n  }\n\n  startListening = () => {\n    this.keys.input.forEach(element => {\n      const name = element[1];\n      const e = document.querySelector(`[name=\"${name}\"]`);\n      if (!!e) {\n        e.addEventListener('change', this.calculate);\n      }\n    });\n\n  }\n\n  parseValue(element) {\n    if (!element) { return 0 }\n    switch (element.type) {\n      case 'number':\n        return element.valueAsNumber || 0;\n      case 'text':\n        return parseFloat(element.value) || 0\n      default:\n        return 0;\n    }\n  }\n\n  format(value, decimals) {\n    value = value.toFixed(decimals);\n    return value < 0 ? 0 : value;\n  } \n\n  calculate = () => {\n    this.inputs = [];\n    this.decimals = this.parseValue(document.querySelector(`[name=\"number_of_dec\"]`));\n    const reference = WebformLogic.GetReference();\n    const input = WebformLogic.GetInput();\n\n\n    console.log(\"Calculating....\");\n\n    const keys = this.keys;\n    console.log(keys)\n\n    keys.input.forEach(key => {\n      this.inputs[key[0]] = (isNaN(this.inputs[key[0]]) ? 0 : this.inputs[key[0]]) + this.parseValue(document.querySelector(`[name=\"${key[1]}\"]`));\n      input[key[0]] = this.inputs[key[0]]\n    });\n\n    console.log(input);\n    console.log(this.inputs);\n\n    const instance = new WebformLogic(reference, input);\n    const report = instance.report;\n    console.log(report)\n\n    keys.output.forEach(slot => {\n      const slots = slot[0].split('__');\n      const name = slot[1];\n      const key = slots[0];\n      const target = slots[1];\n      const value = report.value(key, target);\n      document.querySelector(`[name=\"${name}\"]`).value = this.format(value, this.decimals)\n    });\n  }\n}\n\nexport default WebformWorker","import WebformLogic from './WebformLogic';\nimport WebformWorker from './WebformWorker';\nexport default WebformLogic;\nexport { WebformWorker };"],"names":["root","factory","exports","module","define","amd","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","_defineProperties","target","props","i","length","descriptor","configurable","writable","_createClass","Constructor","protoProps","staticProps","_classCallCheck","instance","TypeError","Reference","inflationRate","startBenefitAge","startBenefitPerMonth","benefitSVAge","benefitSVPerMonth","returnRateSafe","returnRateModerate","returnRateBold","durationAge","Input","client","capital","age","annualIncome","Inflation","reference","input","adjustedIncome","Math","pow","stateBenefits","finance","Capital","safe","rate","moderate","bold","Report","inflation","currentAsset","assetAtAge","targetCapital","monthlyRate","ANNUAL_INCOME","CURRENT_ASSET","ASSET_AT_AGE","TARGET_CAPITAL","MONTHLY_INVESTMENT","WebformLogic","REPORT_TARGETS","SAFE","MODERATE","BOLD","GetReference","GetInput","report","REPORT_KEYS","WebformWorker","keys","inputs","decimals","startListening","forEach","element","name","e","document","querySelector","addEventListener","calculate","parseValue","console","log","isNaN","output","slot","slots","split","format","DEFAULT_KEYS","type","valueAsNumber","parseFloat","toFixed"],"sourceRoot":""}