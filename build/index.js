/*!
 * 
 *   @skounis/js-library-laclinique v0.0.1
 *   https://github.com/morethanthemes/mtp-lacliniquefinanciere-webform-calculations-w36873345
 *
 *   Copyright (c) Stavros Kounis (https://github.com/skounis)
 *
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *
 */
!function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define("Lacl",[],t):"object"===typeof exports?exports.Lacl=t():e.Lacl=t()}(this,(function(){return function(){"use strict";var e={r:function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.r(t);var n=_createClass((function Reference(){_classCallCheck(this,Reference),this.inflationRate=.02,this.startBenefitAge=65,this.startBenefitPerMonth=1208.26,this.benefitSVAge=65,this.benefitSVPerMonth=635.26,this.returnRateSafe=.04,this.returnRateModerate=.06,this.returnRateBold=.08,this.durationAge=85})),a=_createClass((function Input(){_classCallCheck(this,Input),this.client="John Smith",this.capital=5e4,this.age=45,this.annualIncome=47600})),r=_createClass((function Inflation(e,t){var n=this;_classCallCheck(this,Inflation),this.adjustedIncome=function(){return n.input.annualIncome*Math.pow(1+n.reference.inflationRate,65-n.input.age)},this.stateBenefits=function(){return 12*(n.reference.startBenefitPerMonth+n.reference.benefitSVPerMonth)*Math.pow(1+n.reference.inflationRate,65-n.input.age)},this.finance=function(){return n.adjustedIncome()-n.stateBenefits()},this.reference=e,this.input=t})),i=_createClass((function Capital(e,t){var n=this;_classCallCheck(this,Capital),this.safe=function(){var e=n.finance,t=n.reference.returnRateSafe;return e/t*(1-1/Math.pow(1+t,35))},this.moderate=function(){var e=n.finance,t=n.reference.returnRateModerate;return e/t*(1-1/Math.pow(1+t,35))},this.bold=function(){var e=n.finance,t=n.reference.returnRateBold;return e/t*(1-1/Math.pow(1+t,35))},this.reference=e,this.finance=t})),o=_createClass((function Report(e,t,n,a){var r=this;_classCallCheck(this,Report),this.KEYS={ANNUAL_INCOME:"ANNUAL_INCOME",CURRENT_ASSET:"CURRENT_ASSET",ASSET_AT_AGE:"ASSET_AT_AGE",TARGET_CAPITAL:"TARGET_CAPITAL",MONTHLY_INVESTMENT:"MONTHLY_INVESTMENT"},this.safe=function(){var e=r.inflation.adjustedIncome(),t=r.input.capital,n=t*Math.pow(1+r.reference.returnRateSafe,65-r.input.age),a=r.capital.safe(),i=r.reference.returnRateSafe/12;return{ANNUAL_INCOME:e,CURRENT_ASSET:t,ASSET_AT_AGE:n,TARGET_CAPITAL:a,MONTHLY_INVESTMENT:i*(a-n)/(1-Math.pow(1+i,12*(65-r.input.age)))*-1}},this.moderate=function(){var e=r.inflation.adjustedIncome(),t=r.input.capital,n=t*Math.pow(1+r.reference.returnRateModerate,65-r.input.age),a=r.capital.moderate(),i=r.reference.returnRateModerate/12;return{ANNUAL_INCOME:e,CURRENT_ASSET:t,ASSET_AT_AGE:n,TARGET_CAPITAL:a,MONTHLY_INVESTMENT:i*(a-n)/(1-Math.pow(1+i,12*(65-r.input.age)))*-1}},this.bold=function(){var e=r.inflation.adjustedIncome(),t=r.input.capital,n=t*Math.pow(1+r.reference.returnRateBold,65-r.input.age),a=r.capital.bold(),i=r.reference.returnRateBold/12;return{ANNUAL_INCOME:e,CURRENT_ASSET:t,ASSET_AT_AGE:n,TARGET_CAPITAL:a,MONTHLY_INVESTMENT:i*(a-n)/(1-Math.pow(1+i,12*(65-r.input.age)))*-1}},this.reference=e,this.input=t,this.inflation=n,this.capital=a})),c=_createClass((function App(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_classCallCheck(this,App),this.myVar=!0,this.myArrowMethod=function(){};var n=this.myArrowMethod;this.myVar;n(),e=e||App.GetReference(),t=t||App.GetInput(),this.inflation=new r(e,t),this.capital=new i(e,this.inflation.finance()),this.report=new o(e,t,this.inflation,this.capital)}));c.GetReference=function(){return new n},c.GetInput=function(){return new a};var u=c;return new function(){var e=this;this.inputs=[],this.calculate=function(){console.log("Calculating...");var t={reference:["inflationRate","startBenefitAge","startBenefitPerMonth","benefitSVAge","benefitSVPerMonth","returnRateSafe","returnRateModerate","returnRateBold","durationAge"],input:["client","capital","age","annualIncome"]},n=u.GetReference(),a=u.GetInput();t.reference.forEach((function(t){e.inputs[t]=document.querySelector("#"+t).valueAsNumber,n[t]=e.inputs[t]})),t.input.forEach((function(t){e.inputs[t]=document.querySelector("#"+t).valueAsNumber,a[t]=e.inputs[t]}));var r=new u(n,a).report;console.log(r);r.bold();Object.keys(r.KEYS).forEach((function(e){document.getElementById(e+"[safe]").value=r.safe()[e],document.getElementById(e+"[moderate]").value=r.moderate()[e],document.getElementById(e+"[bold]").value=r.bold()[e]}))},this.demoArrowMethod=function(){},document.getElementById("calculate").addEventListener("click",this.calculate),this.calculate(),this.demoArrowMethod()},t}()}));
//# sourceMappingURL=index.js.map